<!DOCTYPE html>
<html lang="es">
<head> 
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Productora - Radio y Eventos</title>
  <link rel="stylesheet" href="radio.css" />
  <!-- Firebase scripts -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
  <!-- Tu configuraciÃ³n de Firebase -->
  <script src="firebase-config.js"></script>
</head>

<body>

  <h1>Productora Radio & Eventos</h1>

  <section id="radios">
    <h2>Radios</h2>
    <ul class="radio-list" id="radio-list"></ul>
  </section>

  <section id="eventos">
    <h2>Eventos</h2>
    <ul class="eventos-list" id="eventos-list"></ul>
  </section>

  <section id="noticias">
    <h2>Noticias</h2>
    <ul class="noticias-list" id="noticias-list"></ul>
  </section>

  <script>
    const radioList = document.getElementById("radio-list");
    const eventosList = document.getElementById("eventos-list");
    const noticiasList = document.getElementById("noticias-list");

    function renderRadios(radios) {
      radioList.innerHTML = "";
      radios.forEach(r => {
        const li = document.createElement("li");
        li.innerHTML = `
          <img src="${r.logo}" alt="Logo ${r.name}" class="radio-logo" />
          <div class="radio-info">
            <strong>${r.name}</strong><br/>
            <a href="${r.stream}" target="_blank" rel="noopener noreferrer">Escuchar</a>
          </div>
        `;
        radioList.appendChild(li);
      });
    }

    function renderEventos(eventos) {
      eventosList.innerHTML = "";
      eventos.forEach(e => {
        const li = document.createElement("li");
        li.textContent = e;
        eventosList.appendChild(li);
      });
    }

    function renderNoticias(noticias) {
      noticiasList.innerHTML = "";
      noticias.forEach(n => {
        const li = document.createElement("li");
        li.textContent = n;
        noticiasList.appendChild(li);
      });
    }

    // Leer datos de Firebase Realtime Database en tiempo real
    database.ref('radios').on('value', snapshot => {
      const data = snapshot.val();
      if (data) renderRadios(data);
      else renderRadios([]);
    });

    database.ref('eventos').on('value', snapshot => {
      const data = snapshot.val();
      if (data) renderEventos(data);
      else renderEventos([]);
    });

    database.ref('noticias').on('value', snapshot => {
      const data = snapshot.val();
      if (data) renderNoticias(data);
      else renderNoticias([]);
    });
  </script>
</body>
</html>
